<p>A collection of tips and tricks for getting the most out of the <a href="https://github.com/Shopify/liquid/wiki">Liquid</a> template engine. These are predominantly used with <a href="http://jekyllrb.com">Jekyll</a>. </p>

<hr />

<p>Contents
| ——————|
Category and tags |
Unique values |</p>

<hr />

<h5 id="category-and-tags">Category and tags</h5>

<ul>
  <li>The following logic allows us to retrieve post tags for the site.
    <ul>
      <li>capture all items</li>
      <li>loop through site tags
        <ul>
          <li>get each first tag</li>
        </ul>
      </li>
      <li>capture number of words per tag list per post
        <ul>
          <li>split, sort, join, and save words</li>
        </ul>
      </li>
      <li>loop through each item in words
        <ul>
          <li>output each tag</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Code example,</p>

<p>```</p>

<p>{% capture get_items %}
 {% for tag in site.tags %}
   {{ tag | first }}
 {% endfor %}
{% endcapture %}
{% capture num_words %}
 {{ get_items | split:’ ‘ |  sort | join:’ ‘ | number_of_words }}
{% endcapture %}
{% for item in (1..num_words) %}</p>
<li><a href="/tags/{{ get_items | split:' ' |  sort | join:' ' | truncatewords:item | remove:'...' |    split:' ' | last }}">{{ get_items | split:' ' |  sort | join:' ' | truncatewords:item | remove:'...' |    split:' ' | last }}</a></li>
<p>{% endfor %}</p>

<p>```</p>

<ul>
  <li>The following logic enables filtering of post tags for a specified site category.
    <ul>
      <li>capture all tag items</li>
      <li>loop through posts for a defined site category, eg: blog
        <ul>
          <li>loop through each tag per post and record the tag</li>
        </ul>
      </li>
      <li>assign tag items and split as necessary</li>
      <li>assign the first index of the assigned tag items
        <ul>
          <li>loop through each item and check if item already exists in tags (this allows us to output unique tags)</li>
          <li>capture these tags</li>
        </ul>
      </li>
      <li>assign these tags, split, and then sort to correct order for strings (if applicable)</li>
      <li>loop through assigned tags and output each tag</li>
    </ul>
  </li>
</ul>

<p>Code example,</p>

<p>```</p>

<p>{% capture tag_items %}
 {% for post in site.categories.library %}
 {% for tag in post.tags %}
  {{ tag }}
 {% endfor %}
 {% endfor %}
{% endcapture %}
{% assign array = tag_items | split: ‘ ‘ %}
{% assign tags = array[1] %}
{% for item in array %}
 {% unless tags contains item %}
  {% capture tags %}{{ tags }}|{{ item }}{% endcapture %}
 {% endunless %}
{% endfor %}</p>

<table>
  <tbody>
    <tr>
      <td>{% assign tag_array = tags</td>
      <td>split: ‘</td>
      <td>’</td>
      <td>sort %}</td>
    </tr>
  </tbody>
</table>

<p>{% for tag in tag_array %}</p>
<li><a href="/tags/{{ tag }}">{{ tag }}</a></li>
<p>{% endfor %}</p>

<p>```</p>

<h5 id="unique-values">Unique values</h5>

<p>The following trick allows us to filter an array for unique values.. Hat-tip to a <a href="https://gist.github.com/pepelsbey/9334494">Gist</a> by <em>pepelsbey</em></p>

<p>Code example,</p>

<p>```</p>

<p>{% assign array = ‘c|c|b|b|a|a’ | split: ‘|’ %}
{% assign tags = array[1] %}</p>

<p>{% for item in array %}
    {% unless tags contains item %}
        {% capture tags %}{{ tags }}|{{ item }}{% endcapture %}
    {% endunless %}
{% endfor %}</p>

<p>```</p>

