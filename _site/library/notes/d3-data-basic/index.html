<!DOCTYPE html>
<html lang="en">
    <head>
    <title>ancientlives: D3 Data Basic</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="a collection of interesting resources...">
    <meta name="author" content="">

    <link rel="icon" href="/assets/images/favicon.ico">    

    <!-- bootstrap -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <!-- css for custom bootstrap template -->
    <link href="/assets/css/style-library.css" rel="stylesheet">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>
	<!-- wrapper -->
	<div class="wrapper">
	<a id="top"></a>
	<!-- side-left -->
	<div id="side-left" class="col-xs-12 col-sm-3 col-md-3">
	
    <nav class="navbar navbar-default">
    <div class="container-fluid">	
	<!-- navbar header and collapsed toggle -->
    <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">
       ancientlives
      </a>
    </div>  
  </div>
</nav> 

<!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <small>
     
     
     
	<ul class="list-group-item">
      <h6 class="list-group-item-heading">Menu</h6>
        <li class="list-unstyled "><a href="/">home</a></li>
        <li class="list-unstyled "><a href="/about">about</a></li>
        <li class="list-unstyled "><a href="/blog">blog</a></li>
        <li class="list-unstyled "><a href="/contact">contact</a></li>
        <li class="list-unstyled "><a href="/indices">indices</a></li>
        <li class="list-unstyled active"><a href="/library">library</a></li>
      </ul>
      </small>
    	
    	
    	<!-- list-group (posts) -->
    	<!--<div class="list-group">-->
    	<small>
   		<ul class="list-group-item">
    	<h6 class="list-group-item-heading">Latest Blog Posts</h6>
    	
    	<li class="list-unstyled "><a href="/blog/library-d3-drawing-intro">D3 Drawing Intro Note Added</a></li>
    	
    	<li class="list-unstyled "><a href="/blog/library-d3-data-intro">D3 Data Intro Note Added</a></li>
    	
    	<li class="list-unstyled "><a href="/blog/library-d3-data-basic">D3 Data Basic Note Added</a></li>
    	
    	<li class="list-unstyled "><a href="/blog/library-d3-overview">D3 Overview Note Added</a></li>
    	
    	<li class="list-unstyled "><a href="/blog/library-d3-setup">D3 Setup Note Added</a></li>
    	
   		</ul>
   		</small>
		<!--</div>--><!--/list-group (posts) --> 
		
		
		
		<!-- list-group (posts) -->
    	<!--<div class="list-group">-->
    	<small>
   		<ul class="list-group-item">
    	<h6 class="list-group-item-heading">Latest Library Posts</h6>
    	
    	<li class="list-unstyled "><a href="/library/notes/node-npm">Node.js NPM</a></li>
    	
    	<li class="list-unstyled "><a href="/library/notes/node-intro">Node.js Intro</a></li>
    	
    	<li class="list-unstyled "><a href="/library/notes/d3-drawing-intro">D3 Drawing Intro</a></li>
    	
    	<li class="list-unstyled "><a href="/library/notes/d3-data-intro">D3 Data Intro</a></li>
    	
    	<li class="list-unstyled active"><a href="/library/notes/d3-data-basic">D3 Data Basic</a></li>
    	
   		</ul>
   		</small>
		<!--</div>--><!--/list-group (posts) --> 
		
		
		
		</div><!-- /.navbar-collapse -->  
		     
	</div><!-- /side-left -->
 
    
    

	<!-- main-right -->
	<div id="main-right" class="col-xs-12 col-sm-9 col-md-9 pull-right">
		<!-- content -->
		<div id="content">
		<!--breadcrumbs-->
		
		<ol class="breadcrumb">
		
		
		<li><a href="/
		
		library/
		
		">library</a></li>
		
		
		
		<li><a href="/
		
		library/
		
		notes/
		
		">notes</a></li>
		
		
		
		<li class="active">d3-data-basic</li>
		
		
		</ol>
			
		<!--title, summary, content...-->
		<h3>D3 Data Basic</h3>
		<p><em>a brief overview of data usage in D3</em></p>
		<hr />
		<p>A brief introduction to the basic concepts of working with data in the <a href="http://d3js.org">D3</a> Javascript library.</p>

<hr />

<table>
<thead>
<tr>
<th>Contents </th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#intro">Introduction</a> </td>
</tr>
<tr>
<td><a href="#eue-pattern">Enter-Update-Exit pattern</a> </td>
</tr>
<tr>
<td><a href="#binding-array">Binding an array as data</a> </td>
</tr>
<tr>
<td><a href="#binding-object">Binding object literals as data</a> </td>
</tr>
<tr>
<td><a href="#binding-functions">Binding functions as data</a> </td>
</tr>
<tr>
<td><a href="#arrays">Working with arrays</a> </td>
</tr>
</tbody>
</table>


<hr />

<p><a id="intro"></a></p>

<h5>Introduction</h5>

<p>When we consider data relative to D3, we need to know how data can be represented both in programming constructs and its associated visual metaphor.</p>

<p>So, as a brief segue, what is the basic difference between data and information,</p>

<p><em>"Data are raw facts. The word raw indicates that the facts have not yet been processed to reveal their meaning...Information is the result of processing raw data to reveal its meaning."</em></p>

<p>(<em>Rob, Morris, and Coronel. 2009</em>)</p>

<p>However, this is the general concept of data and information. If we consider them relative to visualisation, we necessarily impart a richer interpretation. Information, in this context, is no longer the simple result of processed raw data or facts. Instead, it becomes a visual metaphor of the facts.</p>

<p>The same data set can generate any number of visualisations. These may lay equal claim in terms of its validity. In effect, visualisation becomes more about communicating the creator's insight into data than anything else.
<a id="eue-pattern"></a></p>

<h5>Enter-Update-Exit Pattern</h5>

<p>In D3, the connection between data and its visual representation is usually referred to as the <strong>enter-update-exit</strong> pattern.</p>

<p>This concept is starkly different from the standard imperative programming style.</p>

<h6>Enter mode</h6>

<p>The <em>enter()</em> function returns all of the specified data that has not yet been represented in the visual domain. This standard modifier function can then be chained to a selection method to create new visual elements representing the given data elements.</p>

<p>ie: we can keep updating the array, and outputting the new data bound to elements.</p>

<h6>Update mode</h6>

<p><em>selection.data(data)</em> function, on a given selection, establishes the connection between the data domain and the visual domain. The returned result of this intersection of data and visual will be a <em>data-bound</em> selection. We can now invoke a modifier function on this newly created selection to update all existing elements. This is what we mean by an <em>update</em> mode.</p>

<p>ie: as soon as this connection is established we can update the selections in many different ways.</p>

<h6>Exit mode</h6>

<p>If we invoke <em>selection.data(data).exit</em> function on a data-bound selection, the function will compute a new selection which contains all visual elements that are no longer associated with any valid data element.</p>

<p>For example, if we created a bar chart with 25 data points, and then updated it to 20, we would now have 5 left over. With this <em>exit mode</em>, we can now remove the excess elements for the 5 spare data points.</p>

<p><a id="binding-array"></a></p>

<h5>Binding an array as data</h5>

<p>Whilst we can iterate through the array, and then bind the data to an element, the most common option in D3 is to use the <em>enter-update-exit</em> pattern.</p>

<p><a id="binding-object"></a></p>

<h5>Binding object literals as data</h5>

<p>Same basic methodology as an array, except our array is now filled with objects. So, to access our data we call the required attribute of the supplied data. For example,</p>

<pre><code>var data = [
    {height: 10, width: 20},
    {height: 15, width: 25}
];

function (d) {
    return (d.width) + "px";
}
</code></pre>

<p>We can obviously access the <em>height</em> attribute per object in the same manner.</p>

<p><a id="binding-functions"></a></p>

<h5>Binding functions as data</h5>

<p>D3 allows functions to be treated as data as well. This allows us to create data dynamically, or modify existing data before being bound to elements, and so on. There is a lot we can do if we consider data as a function, and vice-versa.</p>

<p><a id="arrays"></a></p>

<h5>Working with arrays</h5>

<p>D3 provides a particularly rich set of functions and utilities for working with arrays, which makes the task of manipulating array data considerably easier.</p>

<p>A few of the options are as follows,</p>

<ul>
<li>min and max = return the min and max values in the passed array</li>
</ul>


<pre><code>d3.select("#output").text(d3.min(ourArray));
d3.select("#output").text(d3.max(ourArray));
</code></pre>

<ul>
<li>extent = retrieves both the smallest and largest values in the the passed array</li>
</ul>


<pre><code>d3.select("#output").text(d3.extent(ourArray));
</code></pre>

<ul>
<li>sum</li>
</ul>


<pre><code>d3.select("#output").text(d3.sum(ourArray));
</code></pre>

<ul>
<li>median</li>
</ul>


<pre><code>d3.select("#output").text(d3.median(ourArray));
</code></pre>

<ul>
<li>mean</li>
</ul>


<pre><code>d3.select("#output").text(d3.mean(ourArray));
</code></pre>

<ul>
<li>asc and desc</li>
</ul>


<pre><code>d3.select("#output").text(ourArray.sort(d3.ascending));
d3.select("#output").text(ourArray.sort(d3.descending));
</code></pre>

<ul>
<li>quantile</li>
</ul>


<pre><code>d3.select("#output").text(
    d3.quantile(ourArray.sort(d3.ascending), 0.25)
);
</code></pre>

<ul>
<li>bisect</li>
</ul>


<pre><code>d3.select("#output").text (
    d3.bisect(ourArray.sort(d3.ascending), 6)
);
</code></pre>

<ul>
<li>nest</li>
</ul>


<p>D3's nest function can be used to build an algorithm to transform a flat array data structure into a hierarchical nested structure. This function can be configured using the key function chained to <em>nest</em>.</p>

<p>In effect, nesting allows elements in an array to be grouped into a hierarchical tree structure. It's similar in concept to the <em>group by</em> option in SQL. The main difference is that <em>nest</em> in D3 allows multiple levels of grouping and, of course, the result is a tree rather than a flat table.</p>

<p>The levels in the tree are defined by the <em>key</em> function, and the leaf nodes of the tree can be sorted by value. The internal nodes of the tree can be sorted by key.</p>

		<hr />	
		<p>Created: 31 Mar 2015  | Author: ancientlives | Tags:  <a href="/tags/library">library</a>,   <a href="/tags/notes">notes</a>,   <a href="/tags/dev">dev</a>,   <a href="/tags/javascript">javascript</a>,   <a href="/tags/d3">d3</a>  | Anchor: <a href="#top">Top</a></p>
    	</div><!-- /content -->
    </div><!-- /main-right -->
	<!-- footer -->
	<div id="footer" class="col-xs-12 col-sm-3 col-md-3 text-center">
		<hr>
		<small>
		<ul class="list-inline">
		<li><a href="https://500px.com/ancientlives">500px</a></li>
		<li><a href="https://www.flickr.com/photos/ancientlives/">Flickr</a></li>
		<li><a href="https://github.com/ancientlives">GitHub</a></li>
		<li><a href="https://www.google.com/+ancientlives">Google+</a></li>
		<li><a href="https://twitter.com/ancientphotos">Twitter</a></li>
		<li><a href="https://www.youtube.com/user/ancientlives">YouTube</a></li>
		</ul>
    	<p>Copyright &copy; <a href="mailto:ancientlives@gmail.com">ancientlives</a> 2015</p>
    	</small>
    </div><!-- /footer -->		
</div><!-- /.wrapper -->
	
	<!-- bootstrap etc js files -->
	<script type='text/javascript' src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type='text/javascript' src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	
</body>
</html>